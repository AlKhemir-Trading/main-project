{% extends 'base.html.twig' %}

{% block body %}
 <div class="app-title">
    <div>
      <h1><i class="fa fa-dashboard"></i> Dashboard</h1>
      <p>For a best management</p>
    </div>
    <ul class="app-breadcrumb breadcrumb">
      <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
      <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
    </ul>
  </div>
  <div class="row">
    <div class="col-md-6 col-lg-3">
      <div class="widget-small info coloured-icon"><i class="icon fa fa-building fa-3x"></i>
        <div class="info">
          <h4>Fournisseur</h4>
          <p><b>{{countFournisseur}}</b></p>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="widget-small btn-secondary coloured-icon"><i class="icon fa fa-truck fa-3x"></i>
        <div class="info">
          <h4>Arrivage</h4>
          <p><b>{{countArrivage}}</b></p>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="widget-small primary coloured-icon"><i class="icon fa fa-users fa-3x"></i>
        <div class="info">
          <h4>Client</h4>
          <p><b>{{countClient}}</b></p>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-3">
      <div class="widget-small btn-success coloured-icon"><i class="icon fa fa-credit-card fa-3x"></i>
        <div class="info">
          <h4>Vente</h4>
          <p><b>{{countVente}}</b></p>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col-md-6">
      <div class="tile cornsilk">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-server"></i> Stock Actuel</h3>
          {% include 'dashboard/stock.html.twig' %}
      </div>
    </div>
    <div class="col-md-6">
      <div class="tile bisque">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-trash"></i> Pertes du Jour</h3>
          {% include 'dashboard/pertes.html.twig' %}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="tile cornsilk">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-shopping-cart"></i> Ventes du Jour</h3>
          {% include 'dashboard/ventes.html.twig' %}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="tile cornsilk">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-credit-card"></i> Payements du Jour</h3>
          {% include 'dashboard/payements.html.twig' %}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="tile cornsilk">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-money"></i> Caisse du Jour</h3>
          {% include 'dashboard/caisse.html.twig' %}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="tile cornsilk">
        <h3 class="tile-title"><i class="app-menu__icon fa fa-pause"></i> Clients en Cr√©dits</h3>
          {% include 'dashboard/clientsCredit.html.twig' %}
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">Monthly Sales</h3>
        <div class="embed-responsive embed-responsive-16by9">
          <canvas class="embed-responsive-item" id="lineChartDemo"></canvas>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">This Month Client</h3>
        <div class="embed-responsive embed-responsive-16by9">
          <canvas class="embed-responsive-item" id="pieChartDemo1"></canvas>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">Month Product</h3>
        <div class="embed-responsive embed-responsive-16by9">
          <canvas class="embed-responsive-item" id="pieChartDemo3"></canvas>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">Previous Month Client</h3>
        <div class="embed-responsive embed-responsive-16by9">
          <canvas class="embed-responsive-item" id="pieChartDemo2"></canvas>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">Features</h3>
        <ul>
          <li>Built with Bootstrap 4, SASS and PUG.js</li>
          <li>Fully responsive and modular code</li>
          <li>Seven pages including login, user profile and print friendly invoice page</li>
          <li>Smart integration of forgot password on login page</li>
          <li>Chart.js integration to display responsive charts</li>
          <li>Widgets to effectively display statistics</li>
          <li>Data tables with sort, search and paginate functionality</li>
          <li>Custom form elements like toggle buttons, auto-complete, tags and date-picker</li>
          <li>A inbuilt toast library for providing meaningful response messages to user's actions</li>
        </ul>
        <p>Vali is a free and responsive admin theme built with Bootstrap 4, SASS and PUG.js. It's fully customizable and modular.</p>
        <p>Vali is is light-weight, expendable and good looking theme. The theme has all the features required in a dashboard theme but this features are built like plug and play module. Take a look at the <a href="http://pratikborsadiya.in/blog/vali-admin" target="_blank">documentation</a> about customizing the theme colors and functionality.</p>
        <p class="mt-4 mb-4"><a class="btn btn-primary mr-2 mb-2" href="http://pratikborsadiya.in/blog/vali-admin" target="_blank"><i class="fa fa-file"></i>Docs</a><a class="btn btn-info mr-2 mb-2" href="https://github.com/pratikborsadiya/vali-admin" target="_blank"><i class="fa fa-github"></i>GitHub</a><a class="btn btn-success mr-2 mb-2" href="https://github.com/pratikborsadiya/vali-admin/archive/master.zip" target="_blank"><i class="fa fa-download"></i>Download</a></p>
      </div>
    </div>
    <div class="col-md-6">
      <div class="tile">
        <h3 class="tile-title">Compatibility with frameworks</h3>
        <p>This theme is not built for a specific framework or technology like Angular or React etc. But due to it's modular nature it's very easy to incorporate it into any front-end or back-end framework like Angular, React or Laravel.</p>
        <p>Go to <a href="http://pratikborsadiya.in/blog/vali-admin" target="_blank">documentation</a> for more details about integrating this theme with various frameworks.</p>
        <p>The source code is available on GitHub. If anything is missing or weird please report it as an issue on <a href="https://github.com/pratikborsadiya/vali-admin" target="_blank">GitHub</a>. If you want to contribute to this theme pull requests are always welcome.</p>
      </div>
    </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script type="text/javascript" src="{{ asset('template/js/plugins/chart.js') }}"></script>

  <script type="text/javascript">
  $(document).ready(function() {
    $('#DashboardItem').toggleClass('active');

    var months = {{months|json_encode|raw}};
    var values = {{values|json_encode|raw}};

    var data = {
    	labels: months,
    	datasets: [
    		// {
    		// 	label: "My First dataset",
    		// 	fillColor: "rgba(220,220,220,0.2)",
    		// 	strokeColor: "rgba(220,220,220,1)",
    		// 	pointColor: "rgba(220,220,220,1)",
    		// 	pointStrokeColor: "#fff",
    		// 	pointHighlightFill: "#fff",
    		// 	pointHighlightStroke: "rgba(220,220,220,1)",
    		// 	data: [65, 59, 80, 81, 56]
    		// },
    		{
    			label: "My Second dataset",
    			fillColor: "#46BFBD",
    			strokeColor: "rgba(151,187,205,1)",
    			pointColor: "rgba(151,187,205,1)",
    			pointStrokeColor: "#fff",
    			pointHighlightFill: "#fff",
    			pointHighlightStroke: "rgba(151,187,205,1)",
    			data: values
    		}
    	]
    };
    // var pdata = [
    // 	{
    // 		value: 300,
    // 		color: "#46BFBD",
    // 		highlight: "#5AD3D1",
    // 		label: "Complete"
    // 	},
    // 	{
    // 		value: 50,
    // 		color:"#F7464A",
    // 		highlight: "#FF5A5E",
    // 		label: "In-Progress"
    // 	}
    // ];

    var dataPieChart1 = {{dataPieChart1|json_encode|raw}};
    var dataPieChart2 = {{dataPieChart2|json_encode|raw}};
    var dataPieChart3 = {{dataPieChart3|json_encode|raw}};

    var ctxl = $("#lineChartDemo").get(0).getContext("2d");
    var lineChart = new Chart(ctxl).Line(data);

    var ctxp = $("#pieChartDemo1").get(0).getContext("2d");
    var pieChart = new Chart(ctxp).Pie(dataPieChart2);

    var ctxp = $("#pieChartDemo2").get(0).getContext("2d");
    var pieChart = new Chart(ctxp).Pie(dataPieChart1);

    var ctxp = $("#pieChartDemo3").get(0).getContext("2d");
    var pieChart = new Chart(ctxp).Pie(dataPieChart3);
  });


  </script>


{% endblock %}
